definitions:
  крема:
    description: |-
      пенка на поверности эспрессо
      формируется во время экстракции эспрессо 

      Цитата: “Попадая в чашку, жидкость оказывается в условиях 
        нормального атмосферного давления и не в состоянии 
        удерживать газ, который выходит в виде тысячи пузырьков. 
        Они и формируют плотную пенку”.
      
      О чём крема нам говорит?
      что кофе свеж и хорошо экстрагирован и что бариста контролирует кофе.
  
  латте-арт:
    description: |-
      Это способ вливания молока в эспрессо, благодаря которому 
      на поверхности получаются узоры. 
      Так же можно просто рисовать острым предметом на верхнем слое пены.
  
      Требует чёткого соблюдения пропорций молока и кофе.


  готовят на эспрессо: &based-on-espresso
    готовят на эспрессо: да
  объём: 
    малый: &small
      объём: шот
    средний: &medium
      объём: средний (~ 100мл)
    большой: &large
      объём: большой (~ 100мл)
  время приготовления:
    быстро: &quick-cook
      время приготовления: быстро

  помол кофе:
    мелкий: &small-pomol
      помол кофе: мелко молотый

  посуда:
  - чашечка
  - прозрачный стакан
  - другое
  вкус:
  - горький
  - сладкий
  - вкусный, лол
  способ приготовления:
    давление:
      высокое: &high-pressure
        высокое давление: да

name: Кофе
default-target:
rules:
- then:
  - вид: эспрессо
  when: &sample-when
    and: 
    - *small
    - объём: шот (60-65 мл)
    - *quick-cook
    - время приготовления: быстро (20-30 сек)
    - температура: 85-95 градусов 
    - *small-pomol
    - помол кофе: мелко молотый
    - *high-pressure
    - вкус: горкий, насыщенный
    - пенка: (крема), является показателем качества
    - подаётся: через минуту от приготовления
    - прётся: быстро, за пару глотков
    - посуда: 
      - маленькая чашечка
      - внутрия имеет форму яйца
      - это позволяет максимально сохранить плотность и пенку при наливании в чашку.
      - катекогрически не квадратная

- when:
    and: 
    - *based-on-espresso
  then:
    - *small-pomol
    - помол кофе: мелко молотый

- then:
  - вид: американо
  when: 
    and:
    - *based-on-espresso
    - эспрессо: 
      - двайная порция (50-70 мл каждый)
      - 120 мл горячей воды
    - приготовление:
      - вода в кофе
      - кофе в воду
      - одновременно
    - вкус: 
      - нерезкий, деликатный 
      - без горького привкуса 
      - менее крепкий и более мягкий, чем у обычного эспрессо.
    - посуда: чашка
    - температура: 75-85 градусов 
    - время приготовления: 25-30 сек 
    - помол: тонкий помол эспрессо 

- then:
  - вид: капучино
  when: 
    and:
    - содержит молоко: подогретое и вспененное
    - от молока только пенка?: наверно да
    - пенка: толстая и густая
    - *based-on-espresso
    - крем?: да
    - посуда: подогретая чашка, 150-180 мл
    - время приготовления: 1.5 минут 
    - температура: 65 градусов 
    - приготовление:
      - в чашку одна порция эспрессо из кофе машины
      - в чашку вливают подогретое и вспененное паром молоко
    - латтер-арт: можно
    - вкус: баланс молока и кофе. Чувствуется и то и то. Идеальный баланс?
    - слои:
      - молочная пена: 1 см, бархатиста я и непористая
      - молоко
      - эспрессо 
      - или всех 1/3 или молока больше чем пены


- then:
  - вид: латте
  when:
    and:
    - *based-on-espresso
    - крем?: да, меньше чем в капучино
    - молоко: да, больше чем в капучино. Вспененное
    - пенка: 12 мм, кроме пенки ещё и слой молока
    - посуда: стакан 250-300 мл
    - вкус: нежный, лёгкий, кофейно сливочный
    - эспрессо: одна порция 
    - descr: самый большой и самый молочный напиток на эспрессо 
    - комфортная температура: 60-70 градусов
    - время приготовления: 3-8 минут 
    - слои:
      - 0.5 см пены
      - много молока
      - одно эспрессо 
    - приготовление: молоко вливают в кофе

- then:
  - вид: флэт уайт
  when: 
    and:
    - содержит молоко: нагретое паром
    - пенка: тонкий слой
    - эспрессо: двойная порция
    - вкус: больше вкус кофе, чем молока; яркий кофейный
    - объём: 150-180, как и капучино
    - температура: 70 градусов 
    - длительность приготовления: 5 минут 
    - приготовление:
      - прогреть чашку
      - взбить молоко
      - приготовить эспрессо 
      - влить молоко 
    - слои:
      - пенка: тонкая (2.5 мм)
      - молоко: не много
      - эспрессо: двойной
    - *based-on-espresso
    - посуда: керамическая чашка
- then:
  - вид: раф
  when:
    and:
    - *based-on-espresso
    - сахар: ванильный
    - сливки: да, взбитые паром
    - эспрессо: в сливки (и сироп?) добавляют шот
    - придумали: в москве
    - посуда: прогрета, чашка или высокий бокал
    - пенка: воздушная, глянцевая
    - объём: 124-160 мл
    - время приготовления: 5-10 минут 
    - комфортная температура: 50-60 градусов
    - приготовление:
      - смешать сливки и сахар 
      - залить к ним кофе
      - взбить смесь пароотводом
      - перелить в посуду, украсить и подать

- then:
  - вид: моккачино
  when: 
    and:
    - объём: 160-170 мл 
    - время приготовления: 15-20 минут 
    - температура: 50-60 градусов 
    - разновидность латте: да, с добавлением шоколада
    - шоколад: обычно порошок какао, можно и сироп
    - посуда: высокий прозрачный бокал, потому что красиво
    - приготовление: 
      - растопить 50г шоколада с ложкой молока, вылить в бокал 
      - сварить 50г кофе, перелить в бокал, не перемешивать
      - взбить холодное молоко капучинатором
      - перелить молоко по лезвию ножа в кофе 
      - взбить сливки в крутую пену, выложить
      - посыпать тёртым шоколадом 



- then:
  - вид: макиато
  when: 
    and:
    - эспрессо: шот
    - молоко: небольшая, вспененная доза
    - пенка: 15мм или чуть больше, \
            добавляют ложечкой по центру эспрессо


- then:
  - вид: латте маккиато
  when: 
    and:
    - молоко и пена: больше молока, чем пены?
    - посуда: irish бокал
    - приготоволение: 
      - в молоко вливают кофе (3:1)
      - молоко и кофе лежат слоями
      

- then:
  - вид: ирландский
  when:
    and:
    - ирладнский виски: да
    - кофе: чёрный
    - сахар: коричневый
    - взбитые сливки: да
    - эспрессо: крепкий
    - посуда: бокал, ополоснутый кипятком
    - приготоволение: 
      - взбить сливки заранее
      - сварить эспрессо
      - полоснуть бокал кипятком
      - положить в бокал сахар
      - залить горячим эспрессо, перемешать 
      - добавить виски 
      - осторожно влить сливки
  
